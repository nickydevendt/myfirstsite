{% extends 'index.html.twig' %}


{% block main %}
    <div class="adminalignment">
        <h1>My account</h1>
        <table class="table">
            <tr>
                <th>Firstname</th>
                <th>Lastname</th>
                <th>Email</th>
                <th>Current employer</th>
                <th>Username</th>
                <th>Role</th>
                <th>Action</th>
            </tr>
            <tr>
                <form method="post" action="">
                    <td><input name="firstname" value="{{ currentUser.firstname }}"></td>
                    <td><input name="lastname" value="{{ currentUser.lastname }}"></td>
                    <td><input name="email" value="{{ currentUser.email }}"></td>
                    <td><input name="currentemployer" value="{{ currentUser.currentemployer }}"></td>
                    <td><input name="username" value="{{ currentUser.username }}" readonly></td>
                        {% if currentUser.admin == 1 %}
                            <td><p>Gebruiker</p></td>
                        {% elseif currentUser.admin == 2 %}
                            <td><p>Admin</p></td>
                        {% endif %}
                    <td>
                        <button class="updatebtn" type="submit" name="updaterow" value="{{ currentUser.id }}">Update Gebruiker</button>
                    </td>
                </form>
            </tr>
        </table>
    </div>
{% endblock%}

{% block text %}
<h1>See my visitors</h1>
{% endblock %}

{% block promotion %}
    <div class="tablealignment">
        <table class="table">
            <tr>
                <th>Randomid</th>
                <th>Firstname</th>
                <th>Lastname</th>
                <th>Email</th>
                <th>Expire date</th>
                <th>Action</th>
            </tr>
            {% for myVis in myVisitors %}
            <tr>
                <form method="post" action="">
                    <td>{{ myVis.randomid }}</td>
                    <td>{{ myVis.firstname }}</td>
                    <td>{{ myVis.lastname }}</td>
                    <td>{{ myVis.email }}</td>
                    <td>{{ myVis.expiredate }}</td>
                    <td>
                        <button class="deletebtn" type="submit" name="deletevisitor" value="{{ myVis.id }}">Delete</button>
                    </td>
                </form>
            </tr>
            {% endfor %}
        </table>
    </div>
    <div class="addvisitoralignment">
        <h3>Add a visitor</h3>
        <table class="table">
            <tr>
                <th>Firstname</th>
                <th>Lastname</th>
                <th>Email</th>
                <th>Action</th>
            </tr>
            <tr>
                <form method="post" action="">
                    <input name ="inviteid" value="{{ currentUser.id }}" hidden>
                    <td><input name="firstname" value=""></td>
                    <td><input name="lastname" value=""></td>
                    <td><input name="email" value="" required></td>
                    <td>
                        <button class="registerbtn" type="submit" name="addVisitor" value="" >Add visitor</button>
                    </td>
                </form>
            </tr>
        </table>
    <h4>Get new password</h4>
    <table class="table">
        <tr>
            <th>Old password</th>
            <th>New password</th>
            <th>Confirm new password</th>
            <th>Confirm</th>
        </tr>
        <tr>
            <form method="post" action="">
                <input name ="userid" value="{{ currentUser.id }}" hidden>
                <td><input type="password" pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$" name="oldpw" value="" required></td>
                <td><input type="password" pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$" name="newpw" value="" required></td>
                <td><input type="password" pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$" name="confirmnewpw" value="" required></td>
                <td>
                    <button class="updatebtn" type="submit" name="updateuserpassword" value="">Update</button>
                </td>
            </form>
        </tr>
    </table>
    </div>
{% endblock %}
{% block recentprojects %}
{% endblock%}

